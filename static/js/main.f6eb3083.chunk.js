(this["webpackJsonpdigis-test"]=this["webpackJsonpdigis-test"]||[]).push([[0],{193:function(t,e,a){},344:function(t,e,a){"use strict";a.r(e);var r=a(0),c=a(46),n=a.n(c),s=a(84),i=a(54),o=a(161),u=a(29),j="SET_CITY_FORECAST_DATA",d="SET_CITY_FORECAST_IS_LOADING",b="SET_CITY_FORECAST_IS_ERROR",O={data:{},isError:!1,isLoading:!1},f=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case j:return Object(u.a)(Object(u.a)({},t),{},{data:e.data});case d:return Object(u.a)(Object(u.a)({},t),{},{isLoading:e.value});case b:return Object(u.a)(Object(u.a)({},t),{},{isError:e.value});default:return Object(u.a)({},t)}},l=function(t){return t.cityForecastInfo},h=Object(i.c)({cityForecastInfo:f}),m=Object(i.d)(h,Object(i.a)(o.a)),p=(a(193),a(179)),y=a(162),x=a.n(y),v=a(21),g=a(12),E=function(t){var e=t.onSubmit,a=t.isError,c=void 0!==a&&a,n=t.isLoading,s=void 0!==n&&n,i=t.setIsError,o=Object(r.useState)(""),u=Object(v.a)(o,2),j=u[0],d=u[1],b=Object(r.useState)(""),O=Object(v.a)(b,2),f=O[0],l=O[1],h=function(t){t.preventDefault(),e(j.toLowerCase().trim()),l(j),d("")};return Object(g.jsxs)("form",{className:"search-form",onSubmit:h,children:[Object(g.jsx)("input",{className:"search-form__input",type:"text",placeholder:"Search",value:j,onChange:function(t){var e=t.target.value;i(!1),d(e.trimStart())}}),Object(g.jsx)("button",{className:"search-form__button",disabled:s||""===j,type:"submit",onClick:h,children:s?"Loading...":"Search"}),c&&Object(g.jsx)("p",{className:"search-form__error-text",children:"Oops. Forecast for '".concat(f,"' was not found")})]})},_=a(79),I=a(346),S=a(176),C=a(177),F=a(88),T=a(350),D=a(180),L=function(t){var e=t.info,a=t.yName,r=t.title,c=void 0===r?"":r,n=e.map((function(t){return Object(_.a)({xName:t.xData},a,t.yData)}));return Object(g.jsxs)("div",{children:[Object(g.jsx)("h1",{children:c}),Object(g.jsxs)(I.a,{width:1200,height:500,data:n,children:[Object(g.jsx)(S.a,{dataKey:"xName",stroke:"#8884d8"}),Object(g.jsx)(C.a,{}),Object(g.jsx)(F.a,{}),Object(g.jsx)(T.a,{stroke:"#ccc",strokeDasharray:"5 5"}),Object(g.jsx)(D.a,{dataKey:a,fill:"#8884d8",barSize:20})]})]})},N=function(t){var e=[];return t.forEach((function(t){e.push({xData:t.dt_txt.split(" ")[1].slice(0,5),yData:t.main.temp})})),e},k={setCityForecastData:function(t){return{type:j,data:t}},setCityForecastIsLoading:function(t){return{type:d,value:t}},setCityForecastIsError:function(t){return{type:b,value:t}}},w=Object(s.b)((function(t){return{cityForecastInfo:l(t)}}),k)((function(t){var e=t.cityForecastInfo,a=t.setCityForecastData,r=t.setCityForecastIsError,c=t.setCityForecastIsLoading;return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(E,{onSubmit:function(t){r(!1),c(!0),x()({method:"get",url:"https://api.openweathermap.org/data/2.5/forecast?q=".concat(t,"&appid=").concat("73a790aa2cc4440e897ba2ba13842a4f")}).then((function(t){a(Object(u.a)({},t.data))})).catch((function(){a({}),r(!0)})).finally((function(){c(!1)}))},isError:e.isError,isLoading:e.isLoading,setIsError:r}),Object.keys(e.data).length>0&&Object(g.jsx)(L,{info:N(Object(p.a)(e.data.list)),yName:"temperature",title:"Temperature for ".concat(e.data.city.name)})]})})),A=function(){return Object(g.jsx)("div",{className:"App",children:Object(g.jsx)(w,{})})};n.a.render(Object(g.jsx)(s.a,{store:m,children:Object(g.jsx)(A,{})}),document.getElementById("root"))}},[[344,1,2]]]);
//# sourceMappingURL=main.f6eb3083.chunk.js.map